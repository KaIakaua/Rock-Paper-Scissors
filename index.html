<script>
    console.log("The script is on");
    console.log("The script has loaded");

    let userScore = 0;
    let computerScore = 0;

    console.log("The current score is User = " + userScore + " vs Computer = " + computerScore);

    const textArray = ['Rock','Paper','Scissors' ]; //The options that the computer has
    console.log(textArray + " are the options.");

//So far it works up to here. It has the needed variables for the choices.

    function getComputerChoice(stringArray) {
        let randomSelect = Math.floor(Math.random()*stringArray.length); 
//      let randomElement = stringArray[randomSelect]; 
//      return randomElement;
        return stringArray[randomSelect];
    }

    const computerSelection = getComputerChoice(textArray);
    console.log(computerSelection + " is the computerSelection");
    


//Now it works all the way over here, properly choosing a random value from the 3 options.
//And this value is the same inside and outside the function so no confusion made.


//-----------------

//Ok so first thing I should do is to remember how to make functions, 
//then create a function that will randomly return a value from 3 choices.
//That would be the case but before that I will put the variables right there.

//DONE

//------------------------
    function getPlayerChoice() {
      let choice = prompt("Choose Rock, Paper, or Scissors:").trim().toLowerCase();

      while (!["rock", "paper", "scissors"].includes(choice)) {
       choice = prompt("Invalid choice! Choose Rock, Paper, or Scissors:").trim().toLowerCase();
      }

      const capitalizedChoice = choice.charAt(0).toUpperCase() + choice.slice(1);
      console.log(capitalizedChoice + " is your choice");
    return capitalizedChoice;
}

      const playerSelection = getPlayerChoice();

//    console.log(playerSelection + " is the PlayerSelection");

// Selection of choices is done, time to tackle onto the interaction between the computer and the user.
    console.log("Time for the game");
    function playRound(playerSelection, computerSelection) {
       playerSelection = playerSelection.toLowerCase();
       computerSelection = computerSelection.toLowerCase();

       switch(playerSelection) {
        case 'rock':
           switch(computerSelection) {
              case 'rock': 
                return "It's a tie! Rocks clash together!";
                break;
              case 'paper':
                return "Computer wins! Paper beats Rock.";
                break;
              case 'scissors': 
                return "You win! Rock beats Scissors.";
                break;
           }
           break;
        case 'paper': 
           switch(computerSelection) {
              case 'rock': 
                return "You win! Paper beats Rock.";
                break;
              case 'paper': 
                return "It's a tie! Papers fly together!";
                break;
              case 'scissors': 
                return "Computer wins! Scissors beat Paper.";
                break;
           }
           break;
        case 'scissors':
            switch(computerSelection) {
              case 'rock': 
                return "Computer wins! Rock beats Scissors.";
                break;
              case 'paper': 
                return "You win! Scissors beat Rock";
                break;
              case 'scissors': 
                return "It's a tie! Scissors make horrible noises!";
                break;
            }
        default: 
            return "Invalid choice";
            break;
           }
       }
    let result = playRound(playerSelection, computerSelection);

    console.log(result);

    if (result.includes("You win")) {
        userScore++;
    } else if (result.includes("Computer wins")) {
        computerScore++;
    }

    console.log("The score is currently:");
    console.log("User: " + userScore + " vs Computer: " + computerScore);
    



//Then second thing is to make a function that will play a game of 
//Rock Paper Scissors with the user, this will happen by letting the user
//pick one option from those 3 previous values, and then the computer
//will do the same. 
//After this is done, a string will return declaring the result of the game
//and it will be different based in if the user won or lost the game.

//DONE
//------------------------------------------
    
//Next and last is to make it happen 5 times in a row so it can effectively
//select a winner, maybe not allow a tie and have one more just in case.
//Lets go ahead and make all the necessary previous steps into one
//function and call it 5 times for starters.

function game() {
  const textArray = ['Rock', 'Paper', 'Scissors'];

  while (userScore + computerScore < 5) {
    const computerSelection2 = getComputerChoice(textArray);
    console.log(computerSelection2 + " is the computerSelection");

    const playerSelection = getPlayerChoice();
    const result = playRound(playerSelection, computerSelection2);

    if (result.includes("You win")) {
      userScore++;
    } else if (result.includes("Computer wins")) {
      computerScore++;
    }

    console.log(result);
    console.log("The score is currently:");
    console.log("User: " + userScore + " vs Computer: " + computerScore);

    if (userScore + computerScore === 5) {
      console.log("The game is over now.");
      if (userScore > computerScore) {
          alert("The game is over now. You win!"); 
        } else {
          alert("The game is over now. Computer wins!");
        }
    } else if (userScore + computerScore < 5){
      console.log("Keep going")
      alert("Keep going");
    }
  }

  console.log("Game is over");
}

game();



  
</script>

